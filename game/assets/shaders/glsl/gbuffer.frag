//--------------------------------------------------------------------------------------
// INCLUDES
//--------------------------------------------------------------------------------------
#include "glsldefines.h"

//--------------------------------------------------------------------------------------
// GLOBAL VARIABLES
//--------------------------------------------------------------------------------------

//--------------------------------------------------------------------------------------
// VARYING VARIABLES
//--------------------------------------------------------------------------------------
varying highp float3 vNormal;
varying highp float4 vHPosition;

//--------------------------------------------------------------------------------------
// PIXEL SHADER
//--------------------------------------------------------------------------------------
void main()
{
	highp float3 normal = vNormal;
	highp float4 hPosition = vHPosition;
	
	highp float3 normalizedNormal = ( normal + 1.0 ) * 0.5;	
	highp float depth = hPosition.z / hPosition.w;
	
    gl_FragColor = float4( normalizedNormal, depth );
}